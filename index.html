<!DOCTYPE html>

<html>
    
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Thoughts for Gary</title>
        <meta name="description" content="Interactive page pairing pictures of Gary Busey with quotes from Friedrich Nietzsche">
        <link rel="stylesheet" href="main.css">
        
        <!-- Script to randomize the image.  Works, but hard-codes the filenames a little bit.  TODO: It would be better to dynamically create an array from the folder.
            Right now it just gets a random number from 1 to 66, and I named the files 1.jpg, 2.jpg, etc.
-->     
        <!--TODO: crop images so everything will fit on the screen at 800px width.-->
        <!--TODO: edit page style to look better.-->
        <!--TODO: get text to stay inside the image with a fixed height instead of width-->
        <!--TODO: Make the text outline stand out more.-->
        <!--TODO: Make the text bigger (and remove long quotes) to show up better on mobile -- or make a separate mobile version.-->
        <!--TODO: Get the disclaimer to appear below the body, not in it.-->
        
        <script type="text/javascript">
            function getImage() {
                var randomNum = Math.floor(Math.random() * 79 + 1);
                var imgString = randomNum.toString();
                var img = '<img alt=\"Gary\'s goofy mug should be here" src=\"public/images/';
                img += imgString + '.jpg\" width="800" onclick="window.location.reload();"/>'
                return img;
            }
        
        </script> 
        <!--This script was mostly copied from https://code-maven.com/list-content-of-directory-with-nodejs.  It is supposed to read the file names from a dir into an array.-
        <script type="text/javascript"> 
            function getImage() {
                    var fs = require('fs');


                    if (process.argv.length <= 2) {
                        console.log("Usage: " + __filename + " path/to/directory");
                        process.exit(-1);
                    }

                    var path = process.argv[2];

                    fs.readdir(path, function(err, items) {
                        console.log(items);

                        for (var i=0; i<items.length; i++) {
                            console.log(items[i]);
                        }
                    });
                }
        </script> -->
        <!--Script to read the txt file and grab a quote.  Mostly taken from https://stackoverflow.com/questions/30944764/javascript-create-array-from-local-file-txt-->
        <script type="text/javascript">
            function getQuote(){
                var array = [];
                var xmlhttp;
                var quote = document.createTextNode("");
                var h = document.createElement("H3");
                if (window.XMLHttpRequest) { // code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp = new XMLHttpRequest();
                } else { // code for IE6, IE5
                    xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
                }
                xmlhttp.onreadystatechange = function() {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        var text = xmlhttp.responseText;
                        // Now convert it into array using regex
                        array = text.split(/\n|\r/g);
                        console.log(array);
                        //Then randomly select an item from the array.
                        var quoteIndex = Math.floor(Math.random() * array.length);
                        quote = array[quoteIndex];
                        //Checks for null entries.  Not sure why they're appearing in the array but this code seems to work to weed them out.
                        if (quote != ""){
                            var quote = '<div class="bottom-text">' + array[quoteIndex] + '</div>';
                            console.log(quoteIndex);
                            console.log(quote);
                            //experimental
                            h.innerHTML = quote;
                            document.getElementById("quote").innerHTML = quote;
                        } else {
                            console.log("Error: empty quote variable.")
                            xmlhttp.onreadystatechange;
                            getQuote();
                        }

                    }

                }
            xmlhttp.open("GET", "quotes.txt", true);
            xmlhttp.send();

       }
        </script>
    </head>
    <body>
        
        <h1>What's Gary thinking now?</h1>
        
 
        <div class="container">
        <!--Calls the function to display the random image-->
            <script type="text/javascript">
                document.write(getImage());
            </script>
        
        <!--Calls the function to get a random quote.-->
            <h3 id="quote">
                <script type-"text/javascript">
                    document.write(getQuote());
                </script>
            </h3>
        </div>
        
        
        <!--Button to reload page.  TODO: change format/size. -->
        <p>Click on the picture or the button to</p>
        <button onclick="window.location.reload();">Think Again!</button>
        <br> <br>
        <!--<br> <br> <br> <br> <br> <br> <br> <br> 

       <!-- <p> <font size="2">
            Disclaimer: None of the images or quotes on this page are mine.  Everything was taken from the web without permission.  Busey did not actually say any of these quotes, and they are in fact all from the philosopher Friedrich Nietzche, at least according to another web search without a lot of vetting.  This site is intended for the purpose of humor only, with apologies to Mr. Busey.  I really don't have anything against him, I promise.
            </font></p> -->

    </body>
        <div style="position: relative; width: 800px;">
            <p style="position: relative; bottom: 0;">Disclaimer: None of the images or quotes on this page are mine.  Everything was taken from the web without permission.  Busey did not actually say any of these quotes, and they are in fact all from the philosopher Friedrich Nietzche, at least according to another web search I did without a lot of vetting.  This site is intended for the purpose of humor only, with apologies to Mr. Busey.  I really don't have anything against him, I promise.</p>
    </div>

</html>



<!--

    [[[[[[[[[[[[[[[      ]]]]]]]]]]]]]]]
    [::::::::::::::      ::::::::::::::]
    [::::::::::::::      ::::::::::::::]
    [::::::[[[[[[[:      :]]]]]]]::::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[     CODE THE WEB     ]:::::]
    [:::::[  http://brackets.io  ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [::::::[[[[[[[:      :]]]]]]]::::::]
    [::::::::::::::      ::::::::::::::]
    [::::::::::::::      ::::::::::::::]
    [[[[[[[[[[[[[[[      ]]]]]]]]]]]]]]]

-->
